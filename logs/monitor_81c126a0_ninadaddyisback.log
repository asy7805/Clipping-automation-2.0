Device set to use mps:0
ğŸ§  Loading Whisper and Emotion model...
âœ… Models loaded.
ğŸ“ Writing temp segments to: /var/folders/ds/267px0t926s0tg69t7sgz7x00000gn/T/live_ninadaddyisback_dpaqgxal
ğŸ—‚ Using streams row id=1382b273-027d-4f32-b5ff-2149c4832a48 twitch_stream_id=live-ninadaddyisback-1762882035
ğŸ”§ Starting pipeline for ninadaddyisback...
ğŸ“ Streamlink log: /Users/aidanyap/Clipping-automation-2.0/logs/streamlink_ninadaddyisback.log
ğŸ“ FFmpeg log: /Users/aidanyap/Clipping-automation-2.0/logs/ffmpeg_ninadaddyisback.log
/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/subprocess.py:1029: RuntimeWarning: line buffering (buffering=1) isn't supported in binary mode, the default buffer size will be used
  self.stdout = io.open(c2pread, 'rb', bufsize)
âœ… Pipeline started: streamlink PID 94861, ffmpeg PID 94862
â–¶ï¸ Recording... (Ctrl+C to stop)
ğŸ“ Segment pattern: /var/folders/ds/267px0t926s0tg69t7sgz7x00000gn/T/live_ninadaddyisback_dpaqgxal/seg_%05d.mp4
ğŸ“ Output directory: /var/folders/ds/267px0t926s0tg69t7sgz7x00000gn/T/live_ninadaddyisback_dpaqgxal
ğŸ” Streamlink PID: 94861, FFmpeg PID: 94862
ğŸ“¹ Processing seg_00000.mp4...
ğŸ§ Spike duration: 4.75s
ğŸ”Š Loading Whisper model (small)...
Thank you for watching.
ğŸ§  Loading DistilBERT emotion model...
Device set to use mps:0
ğŸ” Energy=1.00, Excitement=0.18, Final=0.59
âœ… Interesting: True
ğŸ”¥ Added to buffer (1/5): seg_00000.mp4
ğŸ“¹ Processing seg_00001.mp4...
ğŸ§ Spike duration: 6.25s

ğŸ” Energy=1.00, Excitement=0.00, Final=0.50
âœ… Interesting: True
ğŸ”¥ Added to buffer (2/5): seg_00001.mp4
ğŸ“¹ Processing seg_00002.mp4...
ğŸ§ Spike duration: 9.25s

ğŸ” Energy=1.00, Excitement=0.00, Final=0.50
âœ… Interesting: True
ğŸ”¥ Added to buffer (3/5): seg_00002.mp4
ğŸ“¹ Processing seg_00003.mp4...
ğŸ§ Spike duration: 8.75s
I don't know what to do. I don't know what to do. I just made a normal song. Okay. I'm not sure if you can see what she's wearing earlier today. Thank you.
ğŸ” Energy=1.00, Excitement=0.19, Final=0.59
âœ… Interesting: True
ğŸ”¥ Added to buffer (4/5): seg_00003.mp4
ğŸ“¹ Processing seg_00004.mp4...
ğŸ§ Spike duration: 7.25s
It's gonna be a big CCP, you know what I'm saying? Wow, let me tell you something. Hey, just leave that bottle here, but I'm worried about it. It's H and Shani.
ğŸ” Energy=1.00, Excitement=0.17, Final=0.59
âœ… Interesting: True
ğŸ”¥ Added to buffer (5/5): seg_00004.mp4
/Users/aidanyap/Clipping-automation-2.0/scripts/process.py:74: UserWarning: PySoundFile failed. Trying audioread instead.
  y, sr = librosa.load(file_path, sr=SAMPLE_RATE, mono=True)
/Users/aidanyap/Clipping-automation-2.0/.venv/lib/python3.13/site-packages/librosa/core/audio.py:184: FutureWarning: librosa.core.audio.__audioread_load
	Deprecated as of librosa version 0.10.0.
	It will be removed in librosa version 1.0.
  y, sr_native = __audioread_load(path, offset, duration, dtype)
ğŸ§ seg_00000.mp4 | Score: 0.000 | {'energy': 0.002841249108314514, 'pitch': 3.595648337080296, 'emotion': 0, 'keyword': 0} | ...
ğŸ§ seg_00001.mp4 | Score: 0.000 | {'energy': 0.0030740199144929647, 'pitch': 4.423076516246445, 'emotion': 0, 'keyword': 0} | ...
ğŸ§ seg_00002.mp4 | Score: 0.000 | {'energy': 0.002194106113165617, 'pitch': 2.853081677177734, 'emotion': 0, 'keyword': 0} | ...
ğŸ§ seg_00003.mp4 | Score: 0.569 | {'energy': 0.0499, 'pitch': 63.6853, 'emotion': 0.36, 'keyword': 0} | I was just my normal son. Okay. I should. I don't give a fuc...
/Users/aidanyap/Clipping-automation-2.0/scripts/process.py:74: UserWarning: PySoundFile failed. Trying audioread instead.
  y, sr = librosa.load(file_path, sr=SAMPLE_RATE, mono=True)
/Users/aidanyap/Clipping-automation-2.0/.venv/lib/python3.13/site-packages/librosa/core/audio.py:184: FutureWarning: librosa.core.audio.__audioread_load
	Deprecated as of librosa version 0.10.0.
	It will be removed in librosa version 1.0.
  y, sr_native = __audioread_load(path, offset, duration, dtype)
ğŸ§ seg_00004.mp4 | Score: 0.826 | {'energy': 0.0421, 'pitch': 112.2489, 'emotion': 0.6967, 'keyword': 0.15} | It's good enough. Big CCP, you know what I'm saying? Wow, le...
ffmpeg version 7.1.1 Copyright (c) 2000-2025 the FFmpeg developers
  built with Apple clang version 17.0.0 (clang-1700.0.13.3)
  configuration: --prefix=/opt/homebrew/Cellar/ffmpeg/7.1.1_3 --enable-shared --enable-pthreads --enable-version3 --cc=clang --host-cflags= --host-ldflags='-Wl,-ld_classic' --enable-ffplay --enable-gnutls --enable-gpl --enable-libaom --enable-libaribb24 --enable-libbluray --enable-libdav1d --enable-libharfbuzz --enable-libjxl --enable-libmp3lame --enable-libopus --enable-librav1e --enable-librist --enable-librubberband --enable-libsnappy --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtesseract --enable-libtheora --enable-libvidstab --enable-libvmaf --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxml2 --enable-libxvid --enable-lzma --enable-libfontconfig --enable-libfreetype --enable-frei0r --enable-libass --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg --enable-libspeex --enable-libsoxr --enable-libzmq --enable-libzimg --disable-libjack --disable-indev=jack --enable-videotoolbox --enable-audiotoolbox --enable-neon
  libavutil      59. 39.100 / 59. 39.100
  libavcodec     61. 19.101 / 61. 19.101
  libavformat    61.  7.100 / 61.  7.100
  libavdevice    61.  3.100 / 61.  3.100
  libavfilter    10.  4.100 / 10.  4.100
  libswscale      8.  3.100 /  8.  3.100
  libswresample   5.  3.100 /  5.  3.100
  libpostproc    58.  3.100 / 58.  3.100
[mov,mp4,m4a,3gp,3g2,mj2 @ 0x149219c20] st: 0 edit list: 1 Missing key frame while searching for timestamp: 0
[mov,mp4,m4a,3gp,3g2,mj2 @ 0x149219c20] Auto-inserting h264_mp4toannexb bitstream filter
Input #0, concat, from '/var/folders/ds/267px0t926s0tg69t7sgz7x00000gn/T/live_ninadaddyisback_dpaqgxal/merge_list.txt':
  Duration: N/A, start: 0.000000, bitrate: 9230 kb/s
  Stream #0:0(und): Video: h264 (Constrained Baseline) (avc1 / 0x31637661), yuv420p(tv, bt709, progressive), 1920x1080 [SAR 1:1 DAR 16:9], 9108 kb/s, 60 fps, 60 tbr, 15360 tbn
      Metadata:
        handler_name    : VideoHandler
        vendor_id       : [0][0][0][0]
        encoder         : Lavc61.19.101 libx264
  Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, stereo, fltp, 121 kb/s
      Metadata:
        handler_name    : SoundHandler
        vendor_id       : [0][0][0][0]
Stream mapping:
  Stream #0:0 -> #0:0 (copy)
  Stream #0:1 -> #0:1 (copy)
Output #0, mp4, to '/var/folders/ds/267px0t926s0tg69t7sgz7x00000gn/T/live_ninadaddyisback_dpaqgxal/merged_1762882180.mp4':
  Metadata:
    encoder         : Lavf61.7.100
  Stream #0:0(und): Video: h264 (Constrained Baseline) (avc1 / 0x31637661), yuv420p(tv, bt709, progressive), 1920x1080 [SAR 1:1 DAR 16:9], q=2-31, 9108 kb/s, 60 fps, 60 tbr, 15360 tbn
      Metadata:
        handler_name    : VideoHandler
        vendor_id       : [0][0][0][0]
        encoder         : Lavc61.19.101 libx264
  Stream #0:1(und): Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, stereo, fltp, 121 kb/s
      Metadata:
        handler_name    : SoundHandler
        vendor_id       : [0][0][0][0]
Press [q] to stop, [?] for help
[mov,mp4,m4a,3gp,3g2,mj2 @ 0x148610330] st: 0 edit list: 1 Missing key frame while searching for timestamp: 0
[mov,mp4,m4a,3gp,3g2,mj2 @ 0x148610330] Auto-inserting h264_mp4toannexb bitstream filter
[out#0/mp4 @ 0x138604770] video:62871KiB audio:901KiB subtitle:0KiB other streams:0KiB global headers:0KiB muxing overhead: 0.102221%
frame= 3480 fps=0.0 q=-1.0 Lsize=   63837KiB time=00:00:58.81 bitrate=8891.7kbits/s speed= 712x    
âš ï¸ Merged clip too large (62.3 MB), compressing...
âœ… Compressed to 12.5 MB
â¬†ï¸ Uploaded merged clip: raw/ninadaddyisback/live-ninadaddyisback-1762882035/20251111/segment_1762882232.mp4
âœ… Inserted clip into database: ce174ce5-5078-4740-a085-0760545681d7
ğŸ—‘ï¸ Deleted from Supabase: raw/ninadaddyisback/live-ninadaddyisback-1762882035/20251111/seg_00000.mp4
ğŸ—‘ï¸ Deleted seg_00000.mp4
ğŸ—‘ï¸ Deleted from Supabase: raw/ninadaddyisback/live-ninadaddyisback-1762882035/20251111/seg_00001.mp4
ğŸ—‘ï¸ Deleted seg_00001.mp4
ğŸ—‘ï¸ Deleted from Supabase: raw/ninadaddyisback/live-ninadaddyisback-1762882035/20251111/seg_00002.mp4
ğŸ—‘ï¸ Deleted seg_00002.mp4
ğŸ—‘ï¸ Deleted from Supabase: raw/ninadaddyisback/live-ninadaddyisback-1762882035/20251111/seg_00003.mp4
ğŸ—‘ï¸ Deleted seg_00003.mp4
ğŸ—‘ï¸ Deleted from Supabase: raw/ninadaddyisback/live-ninadaddyisback-1762882035/20251111/seg_00004.mp4
ğŸ—‘ï¸ Deleted seg_00004.mp4
ğŸ“¹ Processing seg_00005.mp4...
ğŸ§ Spike duration: 7.25s
/opt/homebrew/Cellar/python@3.13/3.13.5/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/resource_tracker.py:301: UserWarning: resource_tracker: There appear to be 1 leaked semaphore objects to clean up at shutdown: {'/loky-94802-_cvru04y'}
  warnings.warn(
